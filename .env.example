# App
NODE_ENV=development
APP_URL=http://localhost:3000

# Auth.js / NextAuth
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=replace-me-with-a-long-random-string

# Database
DATABASE_URL=postgresql://mailaudit:mailaudit@localhost:5432/mailaudit?schema=public

# Inbound webhook security
WEBHOOK_SECRET=replace-me
# Dev-only bypass: if set, /api/inbound/email will accept x-dev-webhook-secret
DEV_WEBHOOK_SECRET=
FORWARD_TO=audit-demo@mail.audit.local

# LLM (Ollama)
OLLAMA_BASE_URL=http://127.0.0.1:11434
OLLAMA_MODEL=llama3.2

# Data minimization / optional raw storage
ENABLE_RAW_EMAIL_STORAGE=false
# 32-byte key as base64 (AES-256-GCM). Only used when ENABLE_RAW_EMAIL_STORAGE=true
RAW_EMAIL_ENCRYPTION_KEY_BASE64=
RAW_EMAIL_TTL_DAYS=7

# Limits
INBOUND_MAX_BYTES=262144
LLM_TIMEOUT_MS=30000

# iCloud Mail import (IMAP)
# NOTE: Apple does not provide a supported OAuth flow to read iCloud Mail.
# Use an app-specific password (requires Apple ID 2FA) from https://appleid.apple.com
ICLOUD_EMAIL=
ICLOUD_APP_PASSWORD=
ICLOUD_MAILBOX=INBOX
ICLOUD_LIMIT=250
ICLOUD_SINCE_DAYS=365
ICLOUD_SYNC_INTERVAL_MINUTES=30
